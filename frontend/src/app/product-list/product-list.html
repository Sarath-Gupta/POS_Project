<div class="container mt-4">

  <!-- Add New Product Form -->
  <h3>Add New Product</h3>
  <form [formGroup]="productForm" (ngSubmit)="addProduct()" class="mb-4">
    <div class="mb-3">
      <label for="productName" class="form-label">Product Name</label>
      <input
        type="text"
        id="productName"
        class="form-control"
        formControlName="productName"
      />
    </div>

    <div class="mb-3">
      <label for="barcode" class="form-label">Barcode</label>
      <input
        type="text"
        id="barcode"
        class="form-control"
        formControlName="barcode"
      />
    </div>

    <div class="mb-3">
      <label for="clientId" class="form-label">Client ID</label>
      <input
        type="number"
        id="clientId"
        class="form-control"
        formControlName="clientId"
      />
    </div>

    <div class="mb-3">
      <label for="mrp" class="form-label">MRP</label>
      <input
        type="number"
        id="mrp"
        class="form-control"
        formControlName="mrp"
      />
    </div>

    <div class="mb-3">
      <label for="imgUrl" class="form-label">Image URL</label>
      <input
        type="text"
        id="imgUrl"
        class="form-control"
        formControlName="imgUrl"
      />
    </div>

    <button
      class="btn btn-primary"
      type="submit"
      [disabled]="productForm.invalid"
    >
      Add Product
    </button>
  </form>

  <!-- Product List Table -->
  <h3>Product List</h3>
  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Product Name</th>
        <th>Barcode</th>
        <th>Client ID</th>
        <th>MRP</th>
        <th>Image</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.id }}</td>
        <td>{{ product.productName }}</td>
        <td>{{ product.barcode }}</td>
        <td>{{ product.clientId }}</td>
        <td>{{ product.mrp }}</td>
        <td>
          <img
            *ngIf="product.imgUrl"
            [src]="product.imgUrl"
            alt="{{ product.productName }}"
            width="50"
            height="50"
          />
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Get Product by ID -->
  <div class="mt-4 mb-3">
    <label for="productId" class="form-label">Product ID</label>
    <input
      type="number"
      id="productId"
      class="form-control"
      [(ngModel)]="productId"
    />
    <button class="btn btn-info mt-2" (click)="getProductById()">Fetch Product</button>
  </div>

  <!-- Display Selected Product -->
  <div *ngIf="selectedProduct" class="mt-3">
    <h5>Product Details:</h5>
    <p><strong>ID:</strong> {{ selectedProduct.id }}</p>
    <p><strong>Name:</strong> {{ selectedProduct.productName }}</p>
    <p><strong>Barcode:</strong> {{ selectedProduct.barcode }}</p>
    <p><strong>Client ID:</strong> {{ selectedProduct.clientId }}</p>
    <p><strong>MRP:</strong> {{ selectedProduct.mrp }}</p>
    <p><strong>Image:</strong></p>
    <img
      *ngIf="selectedProduct.imgUrl"
      [src]="selectedProduct.imgUrl"
      alt="{{ selectedProduct.productName }}"
      width="100"
      height="100"
    />
  </div>

</div>
